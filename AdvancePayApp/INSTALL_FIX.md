# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–∞ Android 12+ –∏ Android 16

## –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:

‚úÖ **–û–±–Ω–æ–≤–ª–µ–Ω compileSdk –¥–æ 35** - –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ Android 16
‚úÖ **–û–±–Ω–æ–≤–ª–µ–Ω targetSdk –¥–æ 35** - –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
‚úÖ **–î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è** –¥–ª—è Android 14+:
   - `FOREGROUND_SERVICE_DATA_SYNC`
   - `SCHEDULE_EXACT_ALARM`

‚úÖ **–û–±–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏** –¥–æ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –≤–µ—Ä—Å–∏–π
‚úÖ **–î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–±–æ—Ä–∫–∏**

## üöÄ –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ APK

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ Android Studio (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)

1. **–û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤ Android Studio**
   ```
   File ‚Üí Open ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ –ø–∞–ø–∫—É AdvancePayApp
   ```

2. **–î–æ–∂–¥–∏—Ç–µ—Å—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ Gradle**
   - –í–Ω–∏–∑—É –ø–æ—è–≤–∏—Ç—Å—è "Gradle Sync"
   - –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è (5-10 –º–∏–Ω—É—Ç)
   - –ï—Å–ª–∏ –ø–æ—è–≤—è—Ç—Å—è –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –æ–±–Ω–æ–≤–∏—Ç—å - —Å–æ–≥–ª–∞—Å–∏—Ç–µ—Å—å

3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ IP —Å–µ—Ä–≤–µ—Ä–∞** (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
   ```
   app/src/main/java/com/advancepay/data/api/ApiService.kt
   ```
   –°—Ç—Ä–æ–∫–∞ 41 - –∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ IP –≤–∞—à–µ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞

4. **–û—á–∏—Å—Ç–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç**
   ```
   Build ‚Üí Clean Project
   ```

5. **–ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ APK**
   ```
   Build ‚Üí Rebuild Project
   ```
   –ü–æ—Ç–æ–º:
   ```
   Build ‚Üí Build Bundle(s) / APK(s) ‚Üí Build APK(s)
   ```

6. **–ù–∞–π–¥–∏—Ç–µ APK**
   - –ù–∞–∂–º–∏—Ç–µ "locate" –≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–∏
   - –ò–ª–∏ –≤—Ä—É—á–Ω—É—é: `app/build/outputs/apk/debug/app-debug.apk`

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É

**Windows:**
```bash
cd AdvancePayApp
build_apk.bat
```

**Linux/Mac:**
```bash
cd AdvancePayApp
chmod +x build_apk.sh
./build_apk.sh
```

APK –±—É–¥–µ—Ç –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞: `AdvancePay.apk`

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ß–µ—Ä–µ–∑ Gradle –≤—Ä—É—á–Ω—É—é

–ï—Å–ª–∏ —É –≤–∞—Å –Ω–µ—Ç Android Studio:

1. **–°–∫–∞—á–∞–π—Ç–µ Android SDK Command Line Tools:**
   https://developer.android.com/studio#command-tools

2. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ SDK:**
   ```bash
   # –†–∞—Å–ø–∞–∫—É–π—Ç–µ tools
   # –ó–∞–ø—É—Å—Ç–∏—Ç–µ sdkmanager
   sdkmanager "platform-tools" "platforms;android-35" "build-tools;35.0.0"
   ```

3. **–°–æ–∑–¥–∞–π—Ç–µ local.properties:**
   ```
   sdk.dir=C:\\–ø—É—Ç—å\\–∫\\Android\\Sdk
   ```

4. **–°–æ–±–µ—Ä–∏—Ç–µ APK:**
   ```bash
   cd AdvancePayApp

   # Windows
   gradlew.bat clean assembleDebug

   # Linux/Mac
   ./gradlew clean assembleDebug
   ```

## üì± –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω

### –î–ª—è Google Pixel 8 Pro (Android 16)

1. **–í–∫–ª—é—á–∏—Ç–µ —Ä–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞:**
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –û —Ç–µ–ª–µ—Ñ–æ–Ω–µ
   - 7 —Ä–∞–∑ –Ω–∞–∂–º–∏—Ç–µ "–ù–æ–º–µ—Ä —Å–±–æ—Ä–∫–∏"

2. **–í–∫–ª—é—á–∏—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É —á–µ—Ä–µ–∑ USB:**
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
   - –í–∫–ª—é—á–∏—Ç–µ "–û—Ç–ª–∞–¥–∫–∞ –ø–æ USB"
   - –í–∫–ª—é—á–∏—Ç–µ "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ USB"

3. **–ü–æ–¥–∫–ª—é—á–∏—Ç–µ –∫ –∫–æ–º–ø—å—é—Ç–µ—Ä—É:**
   ```bash
   adb devices
   # –î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å –≤–∞—à–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
   ```

4. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ APK:**
   ```bash
   adb install -r AdvancePay.apk
   ```

–§–ª–∞–≥ `-r` –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫—É –µ—Å–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É–∂–µ –±—ã–ª–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ.

### –î–ª—è –≠–º—É–ª—è—Ç–æ—Ä–∞ Android 12

1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —ç–º—É–ª—è—Ç–æ—Ä** –≤ Android Studio

2. **–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —ç–º—É–ª—è—Ç–æ—Ä –≤–∏–¥–µ–Ω:**
   ```bash
   adb devices
   ```

3. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ APK:**
   ```bash
   adb install AdvancePay.apk
   ```

4. **–ò–ª–∏ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ:**
   - –ü—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ—Ç–∞—â–∏—Ç–µ APK —Ñ–∞–π–ª –≤ –æ–∫–Ω–æ —ç–º—É–ª—è—Ç–æ—Ä–∞

### –ï—Å–ª–∏ adb –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω

**Windows:**
```bash
# –ï—Å–ª–∏ –µ—Å—Ç—å Android Studio:
set PATH=%PATH%;C:\Users\–ò–ú–Ø\AppData\Local\Android\Sdk\platform-tools
```

**Linux/Mac:**
```bash
# –ï—Å–ª–∏ –µ—Å—Ç—å Android Studio:
export PATH=$PATH:~/Android/Sdk/platform-tools
```

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –æ—à–∏–±–æ–∫ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

### "App not installed" –∏–ª–∏ "–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ"

**–ü—Ä–∏—á–∏–Ω–∞ 1: –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–µ—Å—Ç–∞**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–≤–æ–±–æ–¥–Ω–æ–µ –º–µ—Å—Ç–æ –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ
adb shell df /data
```

**–ü—Ä–∏—á–∏–Ω–∞ 2: –ù–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–∞—è –ø–æ–¥–ø–∏—Å—å**
```bash
# –£–¥–∞–ª–∏—Ç–µ —Å—Ç–∞—Ä—É—é –≤–µ—Ä—Å–∏—é
adb uninstall com.advancepay

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–Ω–æ–≤–æ
adb install AdvancePay.apk
```

**–ü—Ä–∏—á–∏–Ω–∞ 3: –ü–æ–≤—Ä–µ–∂–¥—ë–Ω–Ω—ã–π APK**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å APK
adb install -r -d AdvancePay.apk
```
–§–ª–∞–≥ `-d` —Ä–∞–∑—Ä–µ—à–∞–µ—Ç downgrade –≤–µ—Ä—Å–∏–∏

### "INSTALL_FAILED_UPDATE_INCOMPATIBLE"

–°—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–∞ —Å –Ω–æ–≤–æ–π. –†–µ—à–µ–Ω–∏–µ:

```bash
# –ü–æ–ª–Ω–æ—Å—Ç—å—é —É–¥–∞–ª–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
adb uninstall com.advancepay

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–Ω–æ–≤–æ
adb install AdvancePay.apk
```

### "INSTALL_FAILED_OLDER_SDK"

APK —Ç—Ä–µ–±—É–µ—Ç –±–æ–ª–µ–µ –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é Android. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏—é Android –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ
adb shell getprop ro.build.version.sdk

# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å >= 24 (Android 7.0)
```

### "Parsing error" –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ

APK –ø–æ–≤—Ä–µ–∂–¥—ë–Ω. –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ:

```bash
cd AdvancePayApp
rm -rf app/build
./build_apk.sh
```

## üìã –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:**
   ```bash
   adb logcat | grep AdvancePay
   ```
3. **–í–æ–π–¥–∏—Ç–µ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**
4. **–î–∞–π—Ç–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è:**
   - –î–æ—Å—Ç—É–ø –∫ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º
   - –û—Ç–∫–ª—é—á–∏—Ç–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é –±–∞—Ç–∞—Ä–µ–∏

## üÜò –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–º–æ–≥–ª–æ

### –°–æ–±–µ—Ä–∏—Ç–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é:

```bash
# –í–µ—Ä—Å–∏—è Android
adb shell getprop ro.build.version.release

# API —É—Ä–æ–≤–µ–Ω—å
adb shell getprop ro.build.version.sdk

# –ü–æ–ø—ã—Ç–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º–∏ –ª–æ–≥–∞–º–∏
adb install -r -d -t AdvancePay.apk

# –õ–æ–≥–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
adb logcat -d | grep -i "package"
```

### –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—É—é —Å–±–æ—Ä–∫—É:

–í Android Studio:
```
Build ‚Üí Generate Signed Bundle / APK ‚Üí APK ‚Üí
Create new... (—Å–æ–∑–¥–∞–π—Ç–µ debug keystore) ‚Üí
debug ‚Üí Finish
```

## üìû –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

**–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- Android 7.0 (API 24)

**–¶–µ–ª–µ–≤–∞—è –≤–µ—Ä—Å–∏—è:**
- Android 15+ (API 35)

**–†–∞–∑—Ä–µ—à–µ–Ω–∏—è:**
- –ò–Ω—Ç–µ—Ä–Ω–µ—Ç
- –î–æ—Å—Ç—É–ø –∫ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º
- Foreground Service
- Boot Completed

**–†–∞–∑–º–µ—Ä APK:** ~7-8 –ú–ë

---

–ü–æ—Å–ª–µ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏ —Å –Ω–æ–≤—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ APK –¥–æ–ª–∂–µ–Ω —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å—Å—è –Ω–∞ –≤—Å–µ –≤–µ—Ä—Å–∏–∏ Android –æ—Ç 7.0 –¥–æ 16! üöÄ
