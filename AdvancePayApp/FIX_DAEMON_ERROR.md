# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ Kotlin Daemon

## ‚úÖ –ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!

–û–±–Ω–æ–≤–ª–µ–Ω—ã –≤–µ—Ä—Å–∏–∏:
- **Android Gradle Plugin**: 8.1.0 ‚Üí 8.2.2
- **Kotlin**: 1.9.0 ‚Üí 1.9.22
- **compileSdk/targetSdk**: 35 ‚Üí 34 (–¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏)

---

## üöÄ –ë–´–°–¢–†–û–ï –†–ï–®–ï–ù–ò–ï - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç:

### –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–∫—Ä–∏–ø—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

```bash
fix_and_build.bat
```

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç:
1. ‚úÖ –û—Å—Ç–∞–Ω–æ–≤–∏—Ç –≤—Å–µ Gradle daemon
2. ‚úÖ –£–±—å–µ—Ç –∑–∞–≤–∏—Å—à–∏–µ Java –ø—Ä–æ—Ü–µ—Å—Å—ã
3. ‚úÖ –£–¥–∞–ª–∏—Ç –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
4. ‚úÖ –°–æ–±–µ—Ä–µ—Ç APK –∑–∞–Ω–æ–≤–æ

**APK –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤ —á–µ—Ä–µ–∑ 2-3 –º–∏–Ω—É—Ç—ã!**

---

## üì± –ò–ª–∏ —á–µ—Ä–µ–∑ Android Studio:

### 1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Gradle Daemon

–í Android Studio:
```
File ‚Üí Invalidate Caches ‚Üí Invalidate and Restart
```

–ò–ª–∏ –≤—Ä—É—á–Ω—É—é:
```bash
cd AdvancePayApp
gradlew --stop
```

### 2. –ó–∞–∫—Ä–æ–π—Ç–µ Android Studio

–ü–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–∫—Ä–æ–π—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É!

### 3. –£–±–µ–π—Ç–µ Java –ø—Ä–æ—Ü–µ—Å—Å—ã

**Windows:**
```bash
taskkill /F /IM java.exe
```

**Linux/Mac:**
```bash
pkill -9 java
```

### 4. –£–¥–∞–ª–∏—Ç–µ –ø–∞–ø–∫–∏ build

```bash
cd AdvancePayApp
rmdir /S /Q app\build      # Windows
rmdir /S /Q build
rmdir /S /Q .gradle

# Linux/Mac:
# rm -rf app/build build .gradle
```

### 5. –û—Ç–∫—Ä–æ–π—Ç–µ Android Studio –∑–∞–Ω–æ–≤–æ

### 6. –î–æ–∂–¥–∏—Ç–µ—Å—å Gradle Sync

### 7. –°–æ–±–µ—Ä–∏—Ç–µ APK

```
Build ‚Üí Clean Project
Build ‚Üí Build APK
```

---

## ‚ö° –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ - –∫–æ–º–∞–Ω–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞:

```bash
cd AdvancePayApp

# 1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å daemon
gradlew --stop

# 2. –£–±–∏—Ç—å Java
taskkill /F /IM java.exe

# 3. –û—á–∏—Å—Ç–∏—Ç—å
rmdir /S /Q app\build
rmdir /S /Q build
rmdir /S /Q .gradle

# 4. –°–æ–±—Ä–∞—Ç—å –±–µ–∑ daemon
gradlew assembleDebug --no-daemon
```

---

## üìã –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:

### build.gradle.kts (–∫–æ—Ä–Ω–µ–≤–æ–π):
```kotlin
plugins {
    id("com.android.application") version "8.2.2"  // –±—ã–ª–æ 8.1.0
    id("org.jetbrains.kotlin.android") version "1.9.22"  // –±—ã–ª–æ 1.9.0
}
```

### app/build.gradle.kts:
```kotlin
android {
    compileSdk = 34  // –±—ã–ª–æ 35
    targetSdk = 34   // –±—ã–ª–æ 35
}
```

**–ü–æ—á–µ–º—É 34, –∞ –Ω–µ 35?**
- Android Gradle Plugin 8.2.2 –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–æ API 34
- –≠—Ç–æ –≤—Å—ë —Ä–∞–≤–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ Android 12, 13, 14, 15 –∏ –¥–∞–∂–µ 16!
- –î–ª—è API 35 –Ω—É–∂–µ–Ω AGP 8.3+, –∫–æ—Ç–æ—Ä—ã–π –µ—â—ë –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

---

## ‚úÖ –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π —Å–±–æ—Ä–∫–∏:

APK –±—É–¥–µ—Ç –≤:
```
AdvancePayApp/AdvancePay.apk
```

–ò–ª–∏:
```
app/build/outputs/apk/debug/app-debug.apk
```

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞:

```bash
# –£–¥–∞–ª–∏—Ç–µ —Å—Ç–∞—Ä—É—é –≤–µ—Ä—Å–∏—é
adb uninstall com.advancepay

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–æ–≤—É—é
adb install AdvancePay.apk
```

---

## üéØ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏

APK —Å compileSdk=34 –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞:
- ‚úÖ Android 7.0 (API 24)
- ‚úÖ Android 8.0-11 (API 26-30)
- ‚úÖ Android 12 (API 31)
- ‚úÖ Android 13 (API 33)
- ‚úÖ Android 14 (API 34)
- ‚úÖ Android 15 (API 35)
- ‚úÖ **Android 16** (–≤–∞—à Pixel 8 Pro) ‚Üê –ë—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å!

`targetSdk` –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ, –∞ –Ω–µ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å!

---

## üêõ –ï—Å–ª–∏ –≤—Å—ë –µ—â—ë –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞

```bash
cd AdvancePayApp

# –£–¥–∞–ª–∏—Ç—å –≤—Å—ë
rmdir /S /Q app\build
rmdir /S /Q build
rmdir /S /Q .gradle
rmdir /S /Q gradle

# –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Gradle Wrapper (–µ—Å–ª–∏ –µ—Å—Ç—å Android Studio)
# File ‚Üí Sync Project with Gradle Files
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞

–ò–Ω–æ–≥–¥–∞ Java –ø—Ä–æ—Ü–µ—Å—Å—ã –∑–∞–≤–∏—Å–∞—é—Ç –Ω–∞–º–µ—Ä—Ç–≤–æ:

1. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –≤—Å—ë
2. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ –∫–æ–º–ø—å—é—Ç–µ—Ä
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `fix_and_build.bat`

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ Android Studio

1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤ Android Studio
2. File ‚Üí Invalidate Caches ‚Üí Invalidate and Restart
3. –ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞: Build ‚Üí Clean Project
4. Build ‚Üí Rebuild Project
5. Build ‚Üí Build APK

---

## üìû –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏ –æ—à–∏–±–∫–∏

**–û—à–∏–±–∫–∞:**
```
Could not delete 'app\build\kotlin\compileDebugKotlin\cacheable\caches-jvm'
```

**–ü—Ä–∏—á–∏–Ω–∞:**
- Kotlin Daemon –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–ª —Ñ–∞–π–ª—ã
- Windows –Ω–µ –º–æ–∂–µ—Ç —É–¥–∞–ª–∏—Ç—å –æ—Ç–∫—Ä—ã—Ç—ã–µ —Ñ–∞–π–ª—ã
- –ù–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –≤–µ—Ä—Å–∏–π AGP –∏ Kotlin

**–†–µ—à–µ–Ω–∏–µ:**
- –û–±–Ω–æ–≤–∏–ª–∏ AGP –¥–æ 8.2.2
- –û–±–Ω–æ–≤–∏–ª–∏ Kotlin –¥–æ 1.9.22
- –û—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ daemon –ø–µ—Ä–µ–¥ —Å–±–æ—Ä–∫–æ–π
- –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ñ–ª–∞–≥ `--no-daemon` –ø—Ä–∏ —Å–±–æ—Ä–∫–µ

---

## üéâ –ì–æ—Ç–æ–≤–æ!

**–ó–∞–ø—É—Å—Ç–∏—Ç–µ `fix_and_build.bat` –∏ –ø–æ–ª—É—á–∏—Ç–µ —Ä–∞–±–æ—á–∏–π APK —á–µ—Ä–µ–∑ 2-3 –º–∏–Ω—É—Ç—ã!**

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ APK –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω:
1. –í–æ–π–¥–∏—Ç–µ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
2. –î–∞–π—Ç–µ –¥–æ—Å—Ç—É–ø –∫ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º
3. –û—Ç–∫–ª—é—á–∏—Ç–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é –±–∞—Ç–∞—Ä–µ–∏
4. –ì–æ—Ç–æ–≤–æ! üöÄ
